{"ast":null,"code":"import ProductActionTypes from \"./product.types\";\nimport { db, convertCollectionsSnapshotToMap } from \"../../firebase/firebase\"; //Thunk es un action creator que devuelve una funcion to mapStateToProps.\n//Devuelve una funcion en vez de una accion, accion = objeto javascript\n\nexport const fetchCollectionsStart = () => ({\n  type: ProductActionTypes.FETCH_COLLECTIONS_START\n});\nexport const fetchCollectionsSucces = collectionsMap => ({\n  type: ProductActionTypes.FETCH_COLLECTIONS_SUCCES,\n  payload: collectionsMap\n});\nexport const fetchCollectionsFailure = errorMessage => ({\n  type: ProductActionTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: errorMessage\n});\nexport const fetchCollectionsStartAsync = async () => {\n  return dispatch => {\n    const collectionRef = db.collection(\"collections\");\n    dispatch(fetchCollectionsStart());\n    collectionRef.get().then(async snapshot => {\n      const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n      dispatch(fetchCollectionsSucces(collectionsMap));\n    }).catch(error => dispatch(fetchCollectionsFailure(error.message)));\n  };\n};","map":{"version":3,"sources":["C:/Users/AC/Desktop/ReactProjects/Amazon/amazon-clone-redux/src/redux/products/product.action.js"],"names":["ProductActionTypes","db","convertCollectionsSnapshotToMap","fetchCollectionsStart","type","FETCH_COLLECTIONS_START","fetchCollectionsSucces","collectionsMap","FETCH_COLLECTIONS_SUCCES","payload","fetchCollectionsFailure","errorMessage","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snapshot","catch","error","message"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,iBAA/B;AAEA,SAASC,EAAT,EAAaC,+BAAb,QAAoD,yBAApD,C,CAEA;AACA;;AAEA,OAAO,MAAMC,qBAAqB,GAAG,OAAO;AAC1CC,EAAAA,IAAI,EAAEJ,kBAAkB,CAACK;AADiB,CAAP,CAA9B;AAIP,OAAO,MAAMC,sBAAsB,GAAIC,cAAD,KAAqB;AACzDH,EAAAA,IAAI,EAAEJ,kBAAkB,CAACQ,wBADgC;AAEzDC,EAAAA,OAAO,EAAEF;AAFgD,CAArB,CAA/B;AAKP,OAAO,MAAMG,uBAAuB,GAAIC,YAAD,KAAmB;AACxDP,EAAAA,IAAI,EAAEJ,kBAAkB,CAACY,yBAD+B;AAExDH,EAAAA,OAAO,EAAEE;AAF+C,CAAnB,CAAhC;AAKP,OAAO,MAAME,0BAA0B,GAAG,YAAY;AACpD,SAAQC,QAAD,IAAc;AACnB,UAAMC,aAAa,GAAGd,EAAE,CAACe,UAAH,CAAc,aAAd,CAAtB;AACAF,IAAAA,QAAQ,CAACX,qBAAqB,EAAtB,CAAR;AAEAY,IAAAA,aAAa,CACVE,GADH,GAEGC,IAFH,CAEQ,MAAOC,QAAP,IAAoB;AACxB,YAAMZ,cAAc,GAAGL,+BAA+B,CAACiB,QAAD,CAAtD;AACAL,MAAAA,QAAQ,CAACR,sBAAsB,CAACC,cAAD,CAAvB,CAAR;AACD,KALH,EAMGa,KANH,CAMUC,KAAD,IAAWP,QAAQ,CAACJ,uBAAuB,CAACW,KAAK,CAACC,OAAP,CAAxB,CAN5B;AAOD,GAXD;AAYD,CAbM","sourcesContent":["import ProductActionTypes from \"./product.types\";\r\n\r\nimport { db, convertCollectionsSnapshotToMap } from \"../../firebase/firebase\";\r\n\r\n//Thunk es un action creator que devuelve una funcion to mapStateToProps.\r\n//Devuelve una funcion en vez de una accion, accion = objeto javascript\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n  type: ProductActionTypes.FETCH_COLLECTIONS_START,\r\n});\r\n\r\nexport const fetchCollectionsSucces = (collectionsMap) => ({\r\n  type: ProductActionTypes.FETCH_COLLECTIONS_SUCCES,\r\n  payload: collectionsMap,\r\n});\r\n\r\nexport const fetchCollectionsFailure = (errorMessage) => ({\r\n  type: ProductActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n  payload: errorMessage,\r\n});\r\n\r\nexport const fetchCollectionsStartAsync = async () => {\r\n  return (dispatch) => {\r\n    const collectionRef = db.collection(\"collections\");\r\n    dispatch(fetchCollectionsStart());\r\n\r\n    collectionRef\r\n      .get()\r\n      .then(async (snapshot) => {\r\n        const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\r\n        dispatch(fetchCollectionsSucces(collectionsMap));\r\n      })\r\n      .catch((error) => dispatch(fetchCollectionsFailure(error.message)));\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}